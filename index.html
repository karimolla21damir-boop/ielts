<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Master - Lyazat Teacher</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');

        :root {
            --primary: #6366f1;
            --accent: #a855f7;
            --bg: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.8);
            --border: rgba(255, 255, 255, 0.1);
        }

        body {
            margin: 0;
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: var(--bg);
            color: #f1f5f9;
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: #111827;
            border-right: 1px solid var(--border);
            padding: 30px 20px;
            position: fixed;
            height: 100vh;
            z-index: 1000;
        }

        .nav-links { list-style: none; padding: 0; margin-top: 40px; }
        .nav-links li { margin-bottom: 10px; }
        .nav-links a { 
            color: #94a3b8; text-decoration: none; padding: 12px 15px; 
            display: block; border-radius: 10px; cursor: pointer; transition: 0.3s;
        }
        .nav-links a:hover, .nav-links a.active { background: var(--primary); color: white; }

        /* Progress Bar Top Center */
        .header-progress {
            position: fixed;
            top: 0;
            left: 260px;
            right: 0;
            padding: 15px 40px;
            background: rgba(15, 23, 42, 0.9);
            z-index: 900;
            border-bottom: 1px solid var(--border);
        }
        .progress-bar-bg { background: rgba(255,255,255,0.05); height: 8px; border-radius: 4px; overflow: hidden; }
        .progress-bar-fill { height: 100%; background: linear-gradient(to right, var(--primary), var(--accent)); width: 0%; transition: 0.5s; }

        /* Main Content */
        .main-wrap { 
            margin-left: 260px; 
            padding: 100px 40px 40px; 
            width: calc(100% - 260px);
            display: flex;
            justify-content: center;
        }

        .card { 
            width: 100%;
            max-width: 900px;
            background: var(--card-bg); 
            border: 1px solid var(--border); 
            border-radius: 30px; 
            padding: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        /* Video */
        .video-wrapper { width: 100%; margin: 20px 0; border-radius: 20px; overflow: hidden; border: 1px solid var(--border); }
        .youtube-container { position: relative; padding-bottom: 56.25%; height: 0; }
        .youtube-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }

        /* Quiz */
        .quiz-container { text-align: left; background: rgba(255,255,255,0.02); padding: 30px; border-radius: 20px; margin: 30px 0; border: 1px solid var(--border); }
        .quiz-item { margin-bottom: 25px; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 15px; }
        .quiz-options button { 
            display: block; width: 100%; text-align: left; padding: 12px; margin: 8px 0; 
            background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: white; 
            border-radius: 8px; cursor: pointer; 
        }

        /* PDF - FIXED */
        .pdf-section { width: 100%; margin-top: 30px; }
        .pdf-wrapper { 
            width: 100% !important; 
            height: 800px !important; 
            background: white; 
            border-radius: 15px; 
            overflow: hidden;
            border: 2px solid var(--border);
        }
        .pdf-wrapper iframe { width: 100%; height: 100%; border: none; }

        .mock-btn { 
            background: linear-gradient(135deg, #f43f5e, #e11d48); color: white; 
            border: none; padding: 18px 35px; border-radius: 15px; font-weight: 800; 
            cursor: pointer; margin-top: 30px; width: 100%; font-size: 16px;
        }
    </style>
</head>
<body>

    <nav class="sidebar">
        <h2 style="color:white;">IELTS Master</h2>
        <ul class="nav-links">
            <li><a onclick="location.reload()" class="active">üè† Dashboard</a></li>
            <li><a onclick="showModule('Listening')">üéß Listening</a></li>
            <li><a onclick="showModule('Reading')">üìñ Reading</a></li>
            <li><a onclick="showModule('Writing')">‚úçÔ∏è Writing</a></li>
            <li><a onclick="showModule('Speaking')">üó£Ô∏è Speaking</a></li>
        </ul>
    </nav>

    <div class="header-progress">
        <div style="display:flex; justify-content:space-between; font-size:12px; margin-bottom:5px;">
            <span>PROGRESS</span><span id="p-percent">0%</span>
        </div>
        <div class="progress-bar-bg"><div class="progress-bar-fill" id="p-fill"></div></div>
    </div>

    <div class="main-wrap">
        <div id="main-content" class="card">
            <h1>Welcome back!</h1>
            <p>Select a module to continue your IELTS preparation.</p>
            <div class="video-wrapper">
                <video controls style="width:100%"><source src="materials/promo.mp4" type="video/mp4"></video>
            </div>
        </div>
    </div>

    <script>
        const ytData = {
            lessons: { listening: "QhVrqQFUfY8", reading: "nLmDYfe2FGA", writing: "sIp55MoKmeg", speaking: "YRKxrDz4hzA" },
            mocks: { listening: "WO9lCJiPt58", speaking: "IevmdO16GuE" }
        };

        const quizData = {
            listening: [
                { q: "How many sections in Listening?", a: ["3", "4", "5"], correct: 1 },
                { q: "Does recording play twice?", a: ["Yes", "No"], correct: 1 },
                { q: "Total questions?", a: ["30", "40", "50"], correct: 1 },
                { q: "Extra time for transfer?", a: ["2 min", "10 min", "No"], correct: 1 },
                { q: "Pen or Pencil?", a: ["Pen", "Pencil only", "Both"], correct: 1 },
                { q: "Part 1 is usually...", a: ["Lecture", "Social conversation", "Monologue"], correct: 1 },
                { q: "Are spelling mistakes okay?", a: ["Yes", "No", "Sometimes"], correct: 1 },
                { q: "Part 4 is usually...", a: ["A tour", "Academic lecture", "An ad"], correct: 1 }
            ],
            reading: [
                { q: "Time for Reading?", a: ["45m", "60m", "90m"], correct: 1 },
                { q: "How many passages?", a: ["2", "3", "4"], correct: 1 },
                { q: "Extra transfer time?", a: ["Yes", "No"], correct: 1 },
                { q: "Total questions?", a: ["30", "40", "50"], correct: 1 },
                { q: "True/False/Not Given is common?", a: ["Yes", "No"], correct: 0 },
                { q: "Should you read word-by-word?", a: ["Yes", "No, use skimming", "Only first page"], correct: 1 },
                { q: "Are texts academic?", a: ["Always", "Never", "Mostly"], correct: 2 },
                { q: "Penalty for wrong answers?", a: ["Yes", "No"], correct: 1 }
            ],
            writing: [
                { q: "How many tasks?", a: ["1", "2", "3"], correct: 1 },
                { q: "Min words for Task 2?", a: ["150", "250", "300"], correct: 1 },
                { q: "Time for Task 1?", a: ["20m", "40m", "60m"], correct: 0 },
                { q: "Task 2 weight?", a: ["1/3", "2/3", "1/2"], correct: 1 },
                { q: "Academic Task 1 is...", a: ["Letter", "Chart/Graph", "Essay"], correct: 1 },
                { q: "Can you use informal language?", a: ["Yes", "No", "Sometimes"], correct: 1 },
                { q: "Is conclusion necessary in Task 2?", a: ["No", "Yes", "Optional"], correct: 1 },
                { q: "Writing is paper or computer?", a: ["Both available", "Paper only", "Computer only"], correct: 0 }
            ],
            speaking: [
                { q: "How many parts?", a: ["2", "3", "4"], correct: 1 },
                { q: "Part 2 prep time?", a: ["30s", "1m", "2m"], correct: 1 },
                { q: "Is it recorded?", a: ["Yes", "No"], correct: 0 },
                { q: "Total duration?", a: ["5m", "11-14m", "30m"], correct: 1 },
                { q: "Part 3 is...", a: ["Personal", "Abstract discussion", "A game"], correct: 1 },
                { q: "Can you ask to repeat?", a: ["Yes", "No"], correct: 0 },
                { q: "Are big words required?", a: ["Yes, always", "No, focus on clarity", "Only in Part 1"], correct: 1 },
                { q: "Part 1 is about...", a: ["History", "Familiar topics", "Science"], correct: 1 }
            ]
        };

        let completed = new Set();

        function checkQuiz(btn, isCorrect) {
            btn.style.background = isCorrect ? "#16a34a" : "#dc2626";
            btn.style.color = "white";
        }

        function showModule(name) {
            const key = name.toLowerCase();
            completed.add(key);
            document.getElementById('p-fill').style.width = (completed.size / 4 * 100) + "%";
            document.getElementById('p-percent').innerText = (completed.size / 4 * 100) + "%";

            let quizHtml = quizData[key].map((item, idx) => `
                <div class="quiz-item">
                    <p><b>${idx+1}. ${item.q}</b></p>
                    <div class="quiz-options">
                        ${item.a.map((opt, i) => `<button onclick="checkQuiz(this, ${i === item.correct})">${opt}</button>`).join('')}
                    </div>
                </div>
            `).join('');

            document.getElementById('main-content').innerHTML = `
                <h1 style="text-align:left;">${name} Module</h1>
                <div class="video-wrapper"><div class="youtube-container">
                    <iframe src="https://www.youtube.com/embed/${ytData.lessons[key]}" allowfullscreen></iframe>
                </div></div>
                
                <div class="quiz-container">
                    <h2>Module Quiz</h2>
                    ${quizHtml}
                </div>

                <div class="pdf-section">
                    <h2 style="text-align:left;">Study Guide</h2>
                    <div class="pdf-wrapper"><iframe src="materials/${key}.pdf"></iframe></div>
                </div>

                <button class="mock-btn" onclick="loadMockTest('${name}')">üî• START FULL MOCK TEST</button>
            `;
            window.scrollTo(0,0);
        }

        function loadMockTest(section) {
            const key = section.toLowerCase();
            const media = (section === 'Listening' || section === 'Speaking') ? 
                `<div class="video-wrapper"><div class="youtube-container"><iframe src="https://www.youtube.com/embed/${ytData.mocks[key] || ytData.lessons[key]}" allowfullscreen></iframe></div></div>` : '';

            document.getElementById('main-content').innerHTML = `
                <h1 style="color:var(--accent);">${section} Mock Test</h1>
                ${media}
                <div class="pdf-section">
                    <h2>Mock Test Paper</h2>
                    <div class="pdf-wrapper"><iframe src="materials/${key}_mock.pdf"></iframe></div>
                </div>
                <button onclick="showModule('${section}')" style="margin-top:20px; color:#94a3b8; background:none; border:none; cursor:pointer;">‚Üê Back to Lesson</button>
            `;
            window.scrollTo(0,0);
        }
    </script>
</body>
</html>
